<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shape Drawing Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background: white;
            font-family: Arial, sans-serif;
            overflow: hidden;
            position: relative;
        }

        .drawing-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            cursor: crosshair;
            touch-action: none;
            background: white;
        }

        .floating-toolbar {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 15px 20px;
            display: flex;
            gap: 15px;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .floating-shape {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 15px;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(0, 0, 0, 0.1);
            max-width: 250px;
        }

        .shape-display {
            background: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            width: 180px;
            height: 120px;
            margin-bottom: 10px;
            border: 1px solid #eee;
        }

        .shape-canvas {
            max-width: 100%;
            max-height: 100%;
        }

        .back-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: 16px;
            border-radius: 25px;
            cursor: pointer;
            z-index: 2000;
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            backdrop-filter: blur(10px);
        }

        .back-button:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: translateY(-2px);
        }

        .tool-btn {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            border: none;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
            white-space: nowrap;
        }

        .tool-btn.active {
            background: #4CAF50;
            color: white;
        }

        .tool-btn:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
        }

        .tool-btn.active:hover {
            background: #45a049;
        }

        .shape-name {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
            text-align: center;
        }

        .shape-instruction {
            font-size: 12px;
            color: #666;
            text-align: center;
            line-height: 1.3;
        }

        @media (max-width: 768px) {
            .floating-toolbar {
                bottom: 10px;
                padding: 12px 15px;
                gap: 10px;
                flex-wrap: wrap;
                max-width: 90vw;
            }
            
            .floating-shape {
                top: 10px;
                left: 10px;
                max-width: 200px;
                padding: 12px;
            }
            
            .shape-display {
                width: 150px;
                height: 100px;
            }
            
            .tool-btn {
                padding: 8px 12px;
                font-size: 12px;
            }
            
            .back-button {
                top: 10px;
                right: 10px;
                padding: 8px 12px;
                font-size: 14px;
            }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            pointer-events: none;
            z-index: 1000;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(400px) rotate(720deg);
                opacity: 0;
            }
        }

        .confetti-piece {
            animation: confetti-fall 2s ease-out forwards;
        }
    </style>
</head>
<body>
    <canvas id="drawingCanvas" class="drawing-canvas"></canvas>
    
    <a href="../index.html" class="back-button">‚Üê Hub</a>
    
    <div class="floating-shape">
        <div class="shape-name" id="shapeName">Tree</div>
        <div class="shape-display">
            <canvas id="shapeCanvas" class="shape-canvas" width="180" height="120"></canvas>
        </div>
        <div class="shape-instruction">Try to draw this!</div>
    </div>
    
    <div class="floating-toolbar">
        <button class="tool-btn active" onclick="setTool('pen')" id="penTool">‚úèÔ∏è Pen</button>
        <button class="tool-btn" onclick="setTool('eraser')" id="eraserTool">üßπ Eraser</button>
        <button class="tool-btn" onclick="setBrushSize(2)" id="thin">Thin</button>
        <button class="tool-btn active" onclick="setBrushSize(5)" id="medium">Medium</button>
        <button class="tool-btn" onclick="setBrushSize(10)" id="thick">Thick</button>
        <button class="tool-btn" onclick="clearCanvas()">üóëÔ∏è Clear</button>
        <button class="tool-btn" onclick="newObject()">üîÑ New</button>
    </div>

    <script>
        // Game state
        let currentTool = 'pen';
        let brushSize = 5;
        let isDrawing = false;
        let currentObject = null;
        
        // Canvas contexts
        const shapeCanvas = document.getElementById('shapeCanvas');
        const shapeCtx = shapeCanvas.getContext('2d');
        const drawingCanvas = document.getElementById('drawingCanvas');
        const drawingCtx = drawingCanvas.getContext('2d');

        // Object definitions - 100 different things to draw
        const objects = [
            // Basic Shapes
            { name: 'Circle', draw: (ctx, w, h) => { const r = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2, r, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Square', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.6; ctx.strokeRect((w-s)/2, (h-s)/2, s, s); }},
            { name: 'Triangle', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.6; ctx.beginPath(); ctx.moveTo(w/2, h/2-s/2); ctx.lineTo(w/2-s/2, h/2+s/2); ctx.lineTo(w/2+s/2, h/2+s/2); ctx.closePath(); ctx.stroke(); }},
            { name: 'Rectangle', draw: (ctx, w, h) => { const rw = Math.min(w, h) * 0.7, rh = Math.min(w, h) * 0.4; ctx.strokeRect((w-rw)/2, (h-rh)/2, rw, rh); }},
            
            // Trees and Plants
            { name: 'Tree', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s/8, h/2+s/3, s/4, s/2); ctx.beginPath(); ctx.arc(w/2, h/2-s/4, s/2, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Pine Tree', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s/10, h/2+s/2, s/5, s/3); ctx.beginPath(); ctx.moveTo(w/2, h/2-s/2); ctx.lineTo(w/2-s/2, h/2+s/4); ctx.lineTo(w/2+s/2, h/2+s/4); ctx.closePath(); ctx.stroke(); }},
            { name: 'Flower', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.15; for(let i=0; i<6; i++) { const a = i * Math.PI/3; ctx.beginPath(); ctx.arc(w/2 + Math.cos(a)*s, h/2 + Math.sin(a)*s, s/2, 0, 2*Math.PI); ctx.stroke(); } ctx.beginPath(); ctx.arc(w/2, h/2, s/3, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Cactus', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s/6, h/2-s/2, s/3, s); ctx.strokeRect(w/2-s/2, h/2-s/4, s/4, s/2); ctx.strokeRect(w/2+s/4, h/2-s/6, s/4, s/3); }},
            { name: 'Palm Tree', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s/10, h/2-s/2, s/5, s); for(let i=0; i<6; i++) { const a = i * Math.PI/3; ctx.beginPath(); ctx.moveTo(w/2, h/2-s/2); ctx.lineTo(w/2 + Math.cos(a)*s/2, h/2-s/2 + Math.sin(a)*s/3); ctx.stroke(); }}},
            { name: 'Bush', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; for(let i=0; i<5; i++) { ctx.beginPath(); ctx.arc(w/2 + (i-2)*s/2, h/2 + Math.sin(i)*s/4, s/2, 0, 2*Math.PI); ctx.stroke(); }}},
            
            // Animals
            { name: 'Cat', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2-s/2, h/2-s/2, s/4, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s/2, h/2-s/2, s/4, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Dog', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.strokeRect(w/2-s, h/2-s/2, s*2, s); ctx.beginPath(); ctx.arc(w/2+s, h/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2+s, h/2-s/4); ctx.lineTo(w/2+s*1.5, h/2-s/2); ctx.stroke(); }},
            { name: 'Fish', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.25; ctx.beginPath(); ctx.arc(w/2-s/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2+s/2, h/2); ctx.lineTo(w/2+s, h/2-s/2); ctx.lineTo(w/2+s, h/2+s/2); ctx.closePath(); ctx.stroke(); }},
            { name: 'Bird', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2, h/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2-s/4, h/2-s/8); ctx.lineTo(w/2-s, h/2-s/4); ctx.lineTo(w/2-s/2, h/2+s/8); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2+s/4, h/2-s/8); ctx.lineTo(w/2+s, h/2-s/4); ctx.lineTo(w/2+s/2, h/2+s/8); ctx.stroke(); }},
            { name: 'Butterfly', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.15; ctx.strokeRect(w/2-s/10, h/2-s, s/5, s*2); for(let i=0; i<2; i++) { const y = h/2 + (i-0.5)*s; ctx.beginPath(); ctx.arc(w/2-s/2, y, s/3, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s/2, y, s/3, 0, 2*Math.PI); ctx.stroke(); }}},
            { name: 'Rabbit', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2, h/2+s/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2, h/2-s/4, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.strokeRect(w/2-s/8, h/2-s, s/4, s/2); ctx.strokeRect(w/2+s/8, h/2-s, s/4, s/2); }},
            { name: 'Elephant', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.strokeRect(w/2-s, h/2-s/2, s*2, s); ctx.beginPath(); ctx.arc(w/2+s, h/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2+s, h/2+s/4); ctx.lineTo(w/2+s*1.5, h/2+s); ctx.stroke(); }},
            { name: 'Lion', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); for(let i=0; i<8; i++) { const a = i * Math.PI/4; ctx.beginPath(); ctx.moveTo(w/2 + Math.cos(a)*s, h/2 + Math.sin(a)*s); ctx.lineTo(w/2 + Math.cos(a)*s*1.3, h/2 + Math.sin(a)*s*1.3); ctx.stroke(); }}},
            { name: 'Snake', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.1; ctx.beginPath(); ctx.moveTo(w/2-s*2, h/2); for(let i=0; i<=4; i++) { ctx.quadraticCurveTo(w/2-s*2+i*s-s/2, h/2+(i%2)*s, w/2-s*2+i*s, h/2); } ctx.stroke(); }},
            { name: 'Frog', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2-s/3, h/2-s/2, s/4, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s/3, h/2-s/2, s/4, 0, 2*Math.PI); ctx.stroke(); }},
            
            // Houses and Buildings
            { name: 'House', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s/2, h/2, s, s/2); ctx.beginPath(); ctx.moveTo(w/2-s/2, h/2); ctx.lineTo(w/2, h/2-s/3); ctx.lineTo(w/2+s/2, h/2); ctx.closePath(); ctx.stroke(); ctx.strokeRect(w/2-s/6, h/2+s/6, s/3, s/3); }},
            { name: 'Castle', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s, h/2-s/2, s*2, s); for(let i=0; i<5; i++) { ctx.strokeRect(w/2-s+i*s/2, h/2-s, s/4, s/2); ctx.strokeRect(w/2-s+i*s/2, h/2-s*1.2, s/8, s/4); }}},
            { name: 'Church', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.25; ctx.strokeRect(w/2-s, h/2-s/2, s*2, s); ctx.strokeRect(w/2-s/4, h/2-s*1.2, s/2, s/2); ctx.beginPath(); ctx.moveTo(w/2, h/2-s*1.2); ctx.lineTo(w/2, h/2-s*1.5); ctx.stroke(); ctx.strokeRect(w/2-s/8, h/2-s*1.7, s/4, s/4); }},
            { name: 'Barn', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s, h/2-s/4, s*2, s/2); ctx.beginPath(); ctx.arc(w/2, h/2-s/4, s, 0, Math.PI); ctx.stroke(); ctx.strokeRect(w/2-s/4, h/2-s/8, s/2, s/4); }},
            { name: 'Tent', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.4; ctx.beginPath(); ctx.moveTo(w/2, h/2-s/2); ctx.lineTo(w/2-s/2, h/2+s/2); ctx.lineTo(w/2+s/2, h/2+s/2); ctx.closePath(); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2, h/2-s/2); ctx.lineTo(w/2, h/2+s/2); ctx.stroke(); }},
            { name: 'Lighthouse', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s/6, h/2-s, s/3, s*2); ctx.strokeRect(w/2-s/3, h/2-s*1.2, s*2/3, s/4); ctx.strokeRect(w/2-s/4, h/2-s*1.4, s/2, s/8); }},
            { name: 'Windmill', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.25; ctx.strokeRect(w/2-s/3, h/2-s/2, s*2/3, s); ctx.beginPath(); ctx.arc(w/2, h/2-s/2, s/8, 0, 2*Math.PI); ctx.stroke(); for(let i=0; i<4; i++) { const a = i * Math.PI/2; ctx.beginPath(); ctx.moveTo(w/2, h/2-s/2); ctx.lineTo(w/2 + Math.cos(a)*s/2, h/2-s/2 + Math.sin(a)*s/2); ctx.stroke(); }}},
            
            // Transportation
            { name: 'Car', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.25; ctx.strokeRect(w/2-s, h/2-s/4, s*2, s/2); ctx.strokeRect(w/2-s/2, h/2-s/2, s, s/4); ctx.beginPath(); ctx.arc(w/2-s/2, h/2+s/4, s/6, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s/2, h/2+s/4, s/6, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Truck', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.strokeRect(w/2-s*1.5, h/2-s/2, s*3, s); ctx.strokeRect(w/2+s/2, h/2-s, s, s/2); ctx.beginPath(); ctx.arc(w/2-s, h/2+s/2, s/4, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s, h/2+s/2, s/4, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Bus', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.strokeRect(w/2-s*1.5, h/2-s/2, s*3, s); for(let i=0; i<4; i++) { ctx.strokeRect(w/2-s*1.3+i*s/2, h/2-s/3, s/3, s/4); } ctx.beginPath(); ctx.arc(w/2-s, h/2+s/2, s/6, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s, h/2+s/2, s/6, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Bicycle', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2-s, h/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s, h/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2-s, h/2); ctx.lineTo(w/2, h/2-s/2); ctx.lineTo(w/2+s, h/2); ctx.lineTo(w/2, h/2); ctx.closePath(); ctx.stroke(); }},
            { name: 'Airplane', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.strokeRect(w/2-s, h/2-s/8, s*2, s/4); ctx.strokeRect(w/2-s/2, h/2-s/2, s, s/8); ctx.strokeRect(w/2+s/2, h/2+s/4, s/2, s/8); ctx.beginPath(); ctx.moveTo(w/2+s, h/2); ctx.lineTo(w/2+s*1.3, h/2); ctx.stroke(); }},
            { name: 'Boat', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.moveTo(w/2-s, h/2+s/4); ctx.lineTo(w/2-s/2, h/2); ctx.lineTo(w/2+s/2, h/2); ctx.lineTo(w/2+s, h/2+s/4); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2, h/2); ctx.lineTo(w/2, h/2-s); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2, h/2-s); ctx.lineTo(w/2+s/2, h/2-s/2); ctx.stroke(); }},
            { name: 'Train', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.strokeRect(w/2-s, h/2-s/2, s*2, s); ctx.strokeRect(w/2-s/2, h/2-s, s, s/2); for(let i=0; i<3; i++) { ctx.beginPath(); ctx.arc(w/2-s/2+i*s/2, h/2+s/2, s/6, 0, 2*Math.PI); ctx.stroke(); }}},
            { name: 'Rocket', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s/4, h/2-s/2, s/2, s); ctx.beginPath(); ctx.moveTo(w/2-s/4, h/2-s/2); ctx.lineTo(w/2, h/2-s); ctx.lineTo(w/2+s/4, h/2-s/2); ctx.stroke(); ctx.strokeRect(w/2-s/6, h/2+s/3, s/3, s/6); }},
            
            // Food
            { name: 'Apple', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2+s/4, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2, h/2-s*3/4); ctx.lineTo(w/2, h/2-s/2); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s/4, h/2-s/2, s/6, 0, Math.PI); ctx.stroke(); }},
            { name: 'Pizza', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.moveTo(w/2, h/2-s); ctx.lineTo(w/2-s, h/2+s/2); ctx.lineTo(w/2+s, h/2+s/2); ctx.closePath(); ctx.stroke(); for(let i=0; i<3; i++) { ctx.beginPath(); ctx.arc(w/2-s/3+i*s/3, h/2-s/4+i*s/6, s/8, 0, 2*Math.PI); ctx.stroke(); }}},
            { name: 'Ice Cream', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.25; ctx.beginPath(); ctx.moveTo(w/2, h/2+s); ctx.lineTo(w/2-s/4, h/2); ctx.lineTo(w/2+s/4, h/2); ctx.closePath(); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2, h/2-s/4, s/3, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2, h/2-s/2, s/4, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Cake', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s, h/2-s/4, s*2, s/2); for(let i=0; i<3; i++) { ctx.beginPath(); ctx.moveTo(w/2-s/2+i*s/2, h/2-s/4); ctx.lineTo(w/2-s/2+i*s/2, h/2-s/2); ctx.stroke(); }}},
            { name: 'Banana', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.moveTo(w/2-s/2, h/2+s/2); ctx.quadraticCurveTo(w/2-s, h/2-s/2, w/2+s/2, h/2-s/2); ctx.stroke(); }},
            
            // Weather and Nature
            { name: 'Sun', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); for(let i=0; i<8; i++) { const a = i * Math.PI/4; ctx.beginPath(); ctx.moveTo(w/2 + Math.cos(a)*s*1.2, h/2 + Math.sin(a)*s*1.2); ctx.lineTo(w/2 + Math.cos(a)*s*1.5, h/2 + Math.sin(a)*s*1.5); ctx.stroke(); }}},
            { name: 'Moon', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s/3, h/2-s/3, s, 0, 2*Math.PI); ctx.globalCompositeOperation = 'destination-out'; ctx.fill(); ctx.globalCompositeOperation = 'source-over'; }},
            { name: 'Cloud', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.15; for(let i=0; i<4; i++) { ctx.beginPath(); ctx.arc(w/2-s*1.5+i*s, h/2, s, 0, 2*Math.PI); ctx.stroke(); }}},
            { name: 'Rainbow', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; for(let i=0; i<4; i++) { ctx.beginPath(); ctx.arc(w/2, h/2+s, s-i*s/8, Math.PI, 0, true); ctx.stroke(); }}},
            { name: 'Mountain', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.4; ctx.beginPath(); ctx.moveTo(w/2-s, h/2+s/2); ctx.lineTo(w/2-s/2, h/2-s/2); ctx.lineTo(w/2, h/2); ctx.lineTo(w/2+s/2, h/2-s/2); ctx.lineTo(w/2+s, h/2+s/2); ctx.stroke(); }},
            { name: 'Snowman', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.15; ctx.beginPath(); ctx.arc(w/2, h/2+s, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2, h/2, s*0.8, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2, h/2-s*0.7, s*0.6, 0, 2*Math.PI); ctx.stroke(); }},
            
            // Objects and Tools
            { name: 'Ball', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2-s, h/2); ctx.lineTo(w/2+s, h/2); ctx.stroke(); }},
            { name: 'Clock', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2, h/2); ctx.lineTo(w/2, h/2-s/2); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2, h/2); ctx.lineTo(w/2+s/3, h/2); ctx.stroke(); }},
            { name: 'Book', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s, h/2-s/2, s*2, s); ctx.beginPath(); ctx.moveTo(w/2, h/2-s/2); ctx.lineTo(w/2, h/2+s/2); ctx.stroke(); }},
            { name: 'Pencil', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s/6, h/2-s, s/3, s*1.5); ctx.beginPath(); ctx.moveTo(w/2-s/6, h/2-s); ctx.lineTo(w/2, h/2-s*1.2); ctx.lineTo(w/2+s/6, h/2-s); ctx.stroke(); ctx.strokeRect(w/2-s/6, h/2+s/2, s/3, s/4); }},
            { name: 'Key', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2-s, h/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.strokeRect(w/2-s/2, h/2-s/8, s*1.5, s/4); ctx.strokeRect(w/2+s/2, h/2-s/4, s/4, s/8); ctx.strokeRect(w/2+s/2, h/2+s/8, s/4, s/8); }},
            { name: 'Cup', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.25; ctx.beginPath(); ctx.moveTo(w/2-s, h/2-s); ctx.lineTo(w/2-s/2, h/2+s); ctx.lineTo(w/2+s/2, h/2+s); ctx.lineTo(w/2+s, h/2-s); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s*1.2, h/2, s/3, -Math.PI/3, Math.PI/3); ctx.stroke(); }},
            { name: 'Hat', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s, h/2+s/3, s*2, s/6); ctx.strokeRect(w/2-s/2, h/2-s/2, s, s); }},
            { name: 'Umbrella', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2-s/2, s, 0, Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2, h/2-s/2); ctx.lineTo(w/2, h/2+s); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2-s/8, h/2+s, s/8, 0, Math.PI); ctx.stroke(); }},
            { name: 'Glasses', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2-s/2, h/2, s/3, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s/2, h/2, s/3, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2-s/6, h/2); ctx.lineTo(w/2+s/6, h/2); ctx.stroke(); }},
            { name: 'Kite', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.moveTo(w/2, h/2-s); ctx.lineTo(w/2-s/2, h/2); ctx.lineTo(w/2, h/2+s); ctx.lineTo(w/2+s/2, h/2); ctx.closePath(); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2, h/2+s); ctx.lineTo(w/2, h/2+s*1.5); ctx.stroke(); }},
            
            // Musical Instruments
            { name: 'Guitar', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2, h/2+s, s, 0, 2*Math.PI); ctx.stroke(); ctx.strokeRect(w/2-s/8, h/2-s*1.5, s/4, s*2.5); for(let i=0; i<4; i++) { ctx.beginPath(); ctx.moveTo(w/2-s/4+i*s/6, h/2-s*1.5); ctx.lineTo(w/2-s/4+i*s/6, h/2+s/2); ctx.stroke(); }}},
            { name: 'Piano', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s, h/2-s/3, s*2, s*2/3); for(let i=0; i<7; i++) { ctx.beginPath(); ctx.moveTo(w/2-s+i*s*2/7, h/2-s/3); ctx.lineTo(w/2-s+i*s*2/7, h/2+s/3); ctx.stroke(); }}},
            { name: 'Drum', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.25; ctx.strokeRect(w/2-s, h/2-s/2, s*2, s); ctx.beginPath(); ctx.arc(w/2, h/2-s/2, s, 0, Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2, h/2+s/2, s, 0, Math.PI); ctx.stroke(); }},
            
            // Sports
            { name: 'Soccer Ball', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2-s/2, h/2-s/2); ctx.lineTo(w/2+s/2, h/2+s/2); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2+s/2, h/2-s/2); ctx.lineTo(w/2-s/2, h/2+s/2); ctx.stroke(); }},
            { name: 'Basketball', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2-s, h/2); ctx.lineTo(w/2+s, h/2); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2, h/2, s, -Math.PI/2, Math.PI/2); ctx.stroke(); }},
            { name: 'Tennis Racket', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2, h/2-s/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.strokeRect(w/2-s/16, h/2, s/8, s); for(let i=0; i<3; i++) { ctx.beginPath(); ctx.moveTo(w/2-s/2, h/2-s/2+i*s/3); ctx.lineTo(w/2+s/2, h/2-s/2+i*s/3); ctx.stroke(); }}},
            
            // Space
            { name: 'Planet', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2, h/2, s*1.3, Math.PI/6, Math.PI*5/6); ctx.stroke(); }},
            { name: 'UFO', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, Math.PI); ctx.stroke(); ctx.strokeRect(w/2-s*1.2, h/2-s/4, s*2.4, s/2); ctx.beginPath(); ctx.arc(w/2, h/2-s/4, s/3, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Star', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); for(let i=0; i<10; i++) { const r = i%2 ? s*0.4 : s; const a = i * Math.PI/5; const x = w/2 + Math.cos(a) * r; const y = h/2 + Math.sin(a) * r; if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y); } ctx.closePath(); ctx.stroke(); }},
            
            // Fantasy
            { name: 'Crown', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s, h/2, s*2, s/3); for(let i=0; i<5; i++) { ctx.beginPath(); ctx.moveTo(w/2-s+i*s/2, h/2); ctx.lineTo(w/2-s+i*s/2, h/2-s/2+Math.abs(2-i)*s/8); ctx.stroke(); }}},
            { name: 'Sword', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s/8, h/2-s, s/4, s*1.5); ctx.strokeRect(w/2-s/2, h/2-s*1.1, s, s/5); ctx.strokeRect(w/2-s/4, h/2+s/2, s/2, s/4); }},
            { name: 'Castle Tower', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.25; ctx.strokeRect(w/2-s/2, h/2-s, s, s*2); for(let i=0; i<3; i++) { ctx.strokeRect(w/2-s/2+i*s/3, h/2-s*1.2, s/6, s/4); } ctx.strokeRect(w/2-s/6, h/2, s/3, s/2); }},
            
            // More Animals
            { name: 'Cow', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.strokeRect(w/2-s, h/2-s/2, s*2, s); ctx.beginPath(); ctx.arc(w/2+s, h/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.strokeRect(w/2+s*0.8, h/2-s*0.7, s/8, s/3); ctx.strokeRect(w/2+s*1.2, h/2-s*0.7, s/8, s/3); }},
            { name: 'Pig', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.strokeRect(w/2-s, h/2-s/2, s*2, s); ctx.beginPath(); ctx.arc(w/2+s, h/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s*1.2, h/2-s/4, s/6, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Horse', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.strokeRect(w/2-s, h/2-s/2, s*2, s); ctx.beginPath(); ctx.arc(w/2+s, h/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.strokeRect(w/2+s*0.8, h/2-s, s/4, s/2); }},
            { name: 'Sheep', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.15; for(let i=0; i<3; i++) { for(let j=0; j<2; j++) { ctx.beginPath(); ctx.arc(w/2-s+i*s, h/2-s/2+j*s, s/2, 0, 2*Math.PI); ctx.stroke(); }} ctx.beginPath(); ctx.arc(w/2+s*1.5, h/2, s/3, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Duck', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s/2, h/2-s/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.moveTo(w/2+s, h/2-s/2); ctx.lineTo(w/2+s*1.3, h/2-s/2); ctx.stroke(); }},
            
            // Kitchen Items
            { name: 'Spoon', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2-s/2, s/3, 0, 2*Math.PI); ctx.stroke(); ctx.strokeRect(w/2-s/16, h/2-s/6, s/8, s); }},
            { name: 'Fork', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.strokeRect(w/2-s/16, h/2-s/2, s/8, s*1.5); for(let i=0; i<3; i++) { ctx.beginPath(); ctx.moveTo(w/2-s/4+i*s/4, h/2-s/2); ctx.lineTo(w/2-s/4+i*s/4, h/2-s*0.7); ctx.stroke(); }}},
            { name: 'Plate', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.3; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2, h/2, s*0.7, 0, 2*Math.PI); ctx.stroke(); }},
            
            // Toys
            { name: 'Teddy Bear', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.15; ctx.beginPath(); ctx.arc(w/2, h/2, s, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2, h/2-s*0.7, s*0.6, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2-s*0.5, h/2-s*0.9, s*0.3, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s*0.5, h/2-s*0.9, s*0.3, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Robot', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.strokeRect(w/2-s, h/2-s/2, s*2, s); ctx.strokeRect(w/2-s/2, h/2-s*1.2, s, s/2); ctx.beginPath(); ctx.arc(w/2-s/4, h/2-s, s/8, 0, 2*Math.PI); ctx.stroke(); ctx.beginPath(); ctx.arc(w/2+s/4, h/2-s, s/8, 0, 2*Math.PI); ctx.stroke(); }},
            { name: 'Doll', draw: (ctx, w, h) => { const s = Math.min(w, h) * 0.2; ctx.beginPath(); ctx.arc(w/2, h/2-s/2, s/2, 0, 2*Math.PI); ctx.stroke(); ctx.strokeRect(w/2-s/2, h/2, s, s); ctx.strokeRect(w/2-s*0.7, h/2+s/4, s/4, s/2); ctx.strokeRect(w/2+s*0.5, h/2+s/4, s/4, s/2); }}
        ];

        // Initialize drawing canvas
        function initCanvas() {
            drawingCtx.lineCap = 'round';
            drawingCtx.lineJoin = 'round';
            
            // Resize canvases to fit containers
            resizeCanvases();
        }

        function resizeCanvases() {
            // Shape canvas - fixed size
            shapeCanvas.width = 180;
            shapeCanvas.height = 120;
            
            // Drawing canvas - fullscreen
            drawingCanvas.width = window.innerWidth;
            drawingCanvas.height = window.innerHeight;
            
            shapeCtx.lineWidth = 3;
            shapeCtx.strokeStyle = '#333';
            drawingCtx.lineCap = 'round';
            drawingCtx.lineJoin = 'round';
            
            // Redraw current shape if exists
            if (currentObject) {
                drawShape();
            }
        }

        // Drawing functions
        function setTool(tool) {
            currentTool = tool;
            updateToolButtons();
            
            if (tool === 'eraser') {
                drawingCanvas.style.cursor = 'crosshair';
            } else {
                drawingCanvas.style.cursor = 'crosshair';
            }
        }

        function setBrushSize(size) {
            brushSize = size;
            updateSizeButtons();
        }

        function updateToolButtons() {
            document.querySelectorAll('.tool-btn').forEach(btn => {
                if (btn.id === 'penTool' || btn.id === 'eraserTool') {
                    btn.classList.remove('active');
                }
            });
            document.getElementById(currentTool + 'Tool').classList.add('active');
        }

        function updateSizeButtons() {
            document.querySelectorAll('#thin, #medium, #thick').forEach(btn => btn.classList.remove('active'));
            if (brushSize === 2) document.getElementById('thin').classList.add('active');
            if (brushSize === 5) document.getElementById('medium').classList.add('active');
            if (brushSize === 10) document.getElementById('thick').classList.add('active');
        }

        // Drawing event handlers
        function startDrawing(e) {
            isDrawing = true;
            const rect = drawingCanvas.getBoundingClientRect();
            const x = (e.clientX || e.touches[0].clientX) - rect.left;
            const y = (e.clientY || e.touches[0].clientY) - rect.top;
            
            drawingCtx.beginPath();
            drawingCtx.moveTo(x * (drawingCanvas.width / rect.width), y * (drawingCanvas.height / rect.height));
        }

        function draw(e) {
            if (!isDrawing) return;
            
            e.preventDefault();
            const rect = drawingCanvas.getBoundingClientRect();
            const x = (e.clientX || e.touches[0].clientX) - rect.left;
            const y = (e.clientY || e.touches[0].clientY) - rect.top;
            
            const canvasX = x * (drawingCanvas.width / rect.width);
            const canvasY = y * (drawingCanvas.height / rect.height);
            
            drawingCtx.lineWidth = brushSize;
            
            if (currentTool === 'eraser') {
                drawingCtx.globalCompositeOperation = 'destination-out';
            } else {
                drawingCtx.globalCompositeOperation = 'source-over';
                drawingCtx.strokeStyle = '#333';
            }
            
            drawingCtx.lineTo(canvasX, canvasY);
            drawingCtx.stroke();
            drawingCtx.beginPath();
            drawingCtx.moveTo(canvasX, canvasY);
        }

        function stopDrawing() {
            isDrawing = false;
            drawingCtx.beginPath();
        }

        // Mouse events
        drawingCanvas.addEventListener('mousedown', startDrawing);
        drawingCanvas.addEventListener('mousemove', draw);
        drawingCanvas.addEventListener('mouseup', stopDrawing);
        drawingCanvas.addEventListener('mouseout', stopDrawing);

        // Touch events
        drawingCanvas.addEventListener('touchstart', startDrawing);
        drawingCanvas.addEventListener('touchmove', draw);
        drawingCanvas.addEventListener('touchend', stopDrawing);

        // Shape functions
        function drawShape() {
            shapeCtx.clearRect(0, 0, shapeCanvas.width, shapeCanvas.height);
            if (currentObject) {
                currentObject.draw(shapeCtx, shapeCanvas.width, shapeCanvas.height);
            }
        }

        function newObject() {
            currentObject = objects[Math.floor(Math.random() * objects.length)];
            document.getElementById('shapeName').textContent = currentObject.name;
            drawShape();
            clearCanvas();
        }

        function clearCanvas() {
            drawingCtx.clearRect(0, 0, drawingCanvas.width, drawingCanvas.height);
        }


        // Initialize game
        window.addEventListener('resize', resizeCanvases);
        window.addEventListener('load', () => {
            initCanvas();
            newObject();
        });
    </script>
</body>
</html>